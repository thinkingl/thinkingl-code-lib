
<!-- saved from url=(0054)http://ace.delos.com/usacoprob2?a=0HQcb86ekza&S=fence6 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"> <title>Problem 8: Fence Loops</title> </head>
<body background="./4.1.3 Problem 8  Fence Loops_files/bg3.jpg">
<img src="./4.1.3 Problem 8  Fence Loops_files/cow1.jpg" width="742" height="118">
<center>
<b><font size="7">Fence Loops</font></b><br>
</center>

<p> The fences that surround Farmer Brown's collection of pastures have
gotten out of control.  They are made up of straight segments from 1
through 200 feet long that join together only at their endpoints though
sometimes more than two fences join together at a given endpoint.  The
result is a web of fences enclosing his pastures.  Farmer Brown wants to
start to straighten things out.  In particular, he wants to know which of
the pastures has the smallest perimeter.

</p><p> Farmer Brown has numbered his fence segments from 1 to N (N = the
total number of segments).  He knows the following about each fence
segment:
</p><ul>
        <li> the length of the segment 
        </li><li> the segments which connect to it at one end
        </li><li> the segments which connect to it at the other end.
</li></ul>
Happily, no fence connects to itself.

<p> Given a list of fence segments that represents a set of surrounded
pastures, write a program to compute the smallest perimeter of any pasture.
As an example, consider a pasture arrangement, with fences numbered 1 to
10 that looks like this one (the numbers are fence ID numbers):

</p><pre>           1
   +---------------+
   |\             /|
  2| \7          / |
   |  \         /  |
   +---+       /   |6
   | 8  \     /10  |
  3|     \9  /     |
   |      \ /      |
   +-------+-------+
       4       5
</pre>
<p>
The pasture with the smallest perimeter is the one that is enclosed
by fence segments 2, 7, and 8.

</p><h3>PROGRAM NAME: fence6</h3>

<h3>INPUT FORMAT</h3>

<table border="1">
<tbody><tr> <td> Line 1: </td> <td> N (1 &lt;= N &lt;= 100)</td> </tr>
<tr> <td> Line 2..3*N+1: </td> <td>
         <p>N sets of three line records:

	 </p><ul><li>The first line of each record contains four integers:
	 s, the segment number (1 &lt;= s &lt;= N); L<sub>s</sub>, the
	 length of the segment (1 &lt;= L<sub>s</sub> &lt;= 255);
	 N1<sub>s</sub> (1 &lt;= N1<sub>s</sub> &lt;= 8) the number of
	 items on the subsequent line; and N2<sub>s</sub>the number of
	 items on the line after that (1 &lt;= N2<sub>s</sub> &lt;= 8).

	 </li><li>The second line of the record contains N1 integers, each
	 representing a connected line segment on one end of the fence.

	 </li><li>The third line of the record contains N2 integers, each
	 representing a connected line segment on the other end of the
	 fence.
        </li></ul></td> </tr>
</tbody></table>

<h3>SAMPLE INPUT (file fence6.in) </h3>

<pre>10
1 16 2 2
2 7
10 6
2 3 2 2
1 7
8 3
3 3 2 1
8 2
4
4 8 1 3
3
9 10 5
5 8 3 1
9 10 4
6
6 6 1 2 
5 
1 10
7 5 2 2 
1 2
8 9
8 4 2 2
2 3
7 9
9 5 2 3
7 8
4 5 10
10 10 2 3
1 6
4 9 5
</pre>

<h3>OUTPUT FORMAT</h3>

The output file should contain a single line with a single integer that
represents the shortest surrounded perimeter.

<h3>SAMPLE OUTPUT (file fence6.out)</h3>

<pre>12
</pre>
<br>
<hr>
<form action="http://ace.delos.com/upload3" enctype="multipart/form-data" method="POST">
<b>Submission file Name:</b> <input type="file" name="filename">
<input type="submit" value="Send it in!">
<input type="hidden" name="a" value="0HQcb86ekza">
<input type="hidden" name="S" value="fence6">
</form>

<center>
<a href="http://ace.delos.com/usacogate?a=0HQcb86ekza"> USACO Gateway </a> &nbsp;| &nbsp;
<a href="mailto:kolstad@ace.delos.com">Comment or Question </a>
</center>


<div style="background-image: initial; background-attachment: initial; background-origin: initial; background-clip: initial; background-color: rgb(255, 255, 191); border-top-width: 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-style: initial; border-color: initial; color: rgb(0, 0, 0); margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; font-family: arial, sans-serif; font-size: 13px; font-style: normal; font-variant: normal; font-weight: normal; height: auto; line-height: normal; text-align: left; width: auto; direction: ltr; z-index: 99995; background-position: initial initial; background-repeat: initial initial; "></div></body></html>